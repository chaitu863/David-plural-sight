
// updting contacts fields specific to that account either from account field values on contact or contact fields alone
//that means final for loop should be on contact object
map<id,account> accMap = new map<id,account>([SELECT Id from account where Name Like 'Ed%']);
system.debug('acc keyset => '+accMap.keyset());
list<contact> conupdate = new List<contact>();
for(contact con: [select id,lastname,firstname,phone,AssistantName,
                  Account.phone,Account.site from contact where accountid IN : accMap.keyset()]) {
    system.debug('con id is => '+con.Id);
    con.phone = con.Account.Phone;
    con.AssistantName = 'Chaitanya assistant';
    conupdate.Add(con);
}
update conupdate;

// updating on account field based on associated child case.
//That means final loop should be on account object.

list<account> accupdate = new list<account>();
for(account acc : [select id, Name, Total_Number__c, 
                  (SELECT id,Status,AccountId FROM Cases)
                  FROM Account  WHERE Id ='0014W0000252hlrQAA']){ // Ingeneal we pass set of accountids variables here 
    acc.Total_Number__c = acc.Cases.size();
                       accupdate.add(acc);
}
update accupdate;
